"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}window.addEventListener("load",function(){var s=document.querySelector.bind(document),e=document.querySelectorAll('input[name="wpfcm-settings[keep-log]"]'),t=s('select[name="wpfcm-settings[scan-frequency]"]'),n=s('select[name="wpfcm-settings[scan-day]"]').parentNode,a=s('select[name="wpfcm-settings[scan-date]"]').parentNode,r=document.querySelectorAll(".wpfcm-files-container .add"),c=document.querySelectorAll(".wpfcm-files-container .remove");function o(e){n.classList.add("hidden"),a.classList.add("hidden"),"weekly"===e?n.classList.remove("hidden"):"monthly"===e&&a.classList.remove("hidden")}function l(e){var t="",n=e.target.dataset.excludeType;"dirs"===n?t=/^\s*[a-z-._\d,\s/]+\s*$/i:"files"===n?t=/^\s*[a-z-._\d,\s]+\s*$/i:"exts"===n&&(t=/^\s*[a-z-._\d,\s]+\s*$/i);var a=s("#wpfcm-exclude-".concat(n,"-list")),r=e.target.parentNode.querySelector(".name"),c=r.value;if(c.match(t)){var o=document.createElement("span"),l=document.createElement("input"),i=document.createElement("label");l.type="checkbox",l.checked=!0,l.name="wpfcm-settings[scan-exclude-".concat(n,"][]"),l.id=c,l.value=c,i.setAttribute("for",c),i.innerHTML=c,o.appendChild(l),o.appendChild(i),a.appendChild(o),r.value=""}else"dirs"===n?alert(wpfcmData.dirInvalid):"files"===n?alert(wpfcmData.fileInvalid):"exts"===n&&alert(wpfcmData.extensionInvalid)}function i(e){for(var t=_toConsumableArray(e.target.parentNode.querySelectorAll(".exclude-list input[type=checkbox]")),n=[],a=0;a<t.length;a++)t[a].checked||n.push(t[a].value);if(n.length)for(var r=0;r<n.length;r++){var c=s('input[value="'+n[r]+'"]');c&&c.parentNode.remove()}}t.addEventListener("change",function(){o(this.value)}),o(t.value),_toConsumableArray(r).forEach(function(e){e.addEventListener("click",l)}),_toConsumableArray(c).forEach(function(e){e.addEventListener("click",i)}),_toConsumableArray(e).forEach(function(e){e.addEventListener("change",function(){var t;t=this.value,_toConsumableArray(document.querySelectorAll(".wpfcm-table fieldset")).forEach(function(e){e.disabled="no"===t})})})});